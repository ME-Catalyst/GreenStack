# =============================================================================
# IODD Manager Industrial IoT Platform - Environment Configuration
# =============================================================================
# Copy this file to .env and update with your actual values

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# SQLite (default, for development/small deployments)
DATABASE_URL=sqlite:///./iodd_manager.db

# PostgreSQL (recommended for production)
# DATABASE_URL=postgresql://iodd_user:changeme123@postgres:5432/iodd_manager
POSTGRES_DB=iodd_manager
POSTGRES_USER=iodd_user
POSTGRES_PASSWORD=changeme123
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_URL=redis://:redis123@redis:6379/0
REDIS_PASSWORD=redis123
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# MQTT Configuration
# -----------------------------------------------------------------------------
MQTT_BROKER=mosquitto:1883
MQTT_USERNAME=iodd
MQTT_PASSWORD=mqtt123
MQTT_PORT=1883
MQTT_WS_PORT=9001
MQTT_TLS_PORT=8883

# -----------------------------------------------------------------------------
# InfluxDB Configuration (Time-Series Database)
# -----------------------------------------------------------------------------
INFLUXDB_URL=http://influxdb:8086
INFLUXDB_TOKEN=my-super-secret-auth-token-change-this
INFLUXDB_ORG=iodd-manager
INFLUXDB_BUCKET=device-telemetry
INFLUXDB_ADMIN_USER=admin
INFLUXDB_ADMIN_PASSWORD=admin123changeme

# -----------------------------------------------------------------------------
# Grafana Configuration
# -----------------------------------------------------------------------------
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin123changeme
GRAFANA_ALLOW_SIGNUP=false

# -----------------------------------------------------------------------------
# Node-RED Configuration
# -----------------------------------------------------------------------------
NODERED_PORT=1880
NODERED_CREDENTIAL_SECRET=change-this-secret-key

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_BASE_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
SECRET_KEY=your-secret-key-here-change-in-production-make-it-long-and-random
JWT_SECRET=your-jwt-secret-here-change-in-production
JWT_EXPIRATION=3600

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_MQTT=true
ENABLE_REDIS=true
ENABLE_POSTGRES=false
ENABLE_INFLUXDB=true
ENABLE_GRAFANA=true
ENABLE_NODERED=true
AUTO_MIGRATE=true
ENABLE_DOCS=true

# -----------------------------------------------------------------------------
# Data Retention
# -----------------------------------------------------------------------------
# How long to keep telemetry data in InfluxDB (e.g., 30d, 90d, 1y)
INFLUXDB_RETENTION=90d

# How long to keep data in Redis (seconds)
REDIS_TELEMETRY_TTL=300
REDIS_SHADOW_TTL=86400

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_TO_FILE=false
LOG_FILE_PATH=/var/log/iodd-manager/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5
